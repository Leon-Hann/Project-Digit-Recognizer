I've divided the project into 3 different problems. The first problem is digit recognizer part.
Second is the dimensionality reduction and the last is detecting out of distribution images. 
You can run the complete file from start to finish.